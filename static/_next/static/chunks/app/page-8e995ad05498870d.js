(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7873:function(e,s,t){Promise.resolve().then(t.bind(t,2280))},2280:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return Home}});var i=t(7437),n=t(2265);function Home(){let[e,s]=(0,n.useState)({ActiveClients:[],DisconnectedClients:[],WaitingClients:[]});return(0,n.useEffect)(()=>{let fetchVmDetails=async()=>{let e=await fetch("/api/list"),t=await e.json();s(t)};fetchVmDetails();let e=setInterval(()=>{fetchVmDetails()},5e3);return()=>clearInterval(e)},[]),(0,i.jsxs)("body",{className:"h-full",children:[null==e.ActiveClients||0==e.ActiveClients.length?(0,i.jsx)("div",{}):(0,i.jsxs)("div",{className:"container m-auto grid md:grid-cols-3",children:[e.ActiveClients.map(e=>(0,i.jsxs)("div",{className:"tile border border-green-200",children:[(0,i.jsx)("h1",{className:"text-lg text-center",children:e.Name}),(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)("img",{src:"server-icon.png",alt:"server icon",className:"w-20 h-20"})}),(0,i.jsxs)("div",{className:"grid grid-cols-2",children:[(0,i.jsx)("div",{className:"tile",children:(0,i.jsxs)("h3",{children:["CPU: ",(0,i.jsxs)("b",{children:[e.CPU.toFixed(1),"%"]})]})}),(0,i.jsx)("div",{className:"tile",children:(0,i.jsxs)("h3",{children:["Memory: ",(0,i.jsxs)("b",{children:[e.Memory.toFixed(1),"%"]})]})})]}),(0,i.jsx)("hr",{}),e.Storage.map(e=>(0,i.jsxs)("div",{className:"grid grid-cols-2",children:[(0,i.jsx)("div",{className:"tile",children:(0,i.jsxs)("h3",{children:[e.Mount," (",e.Name,")"]})}),(0,i.jsx)("div",{className:"tile",children:(0,i.jsxs)("h3",{children:["Space Used: ",(0,i.jsxs)("b",{children:[e.SpaceUsed.toFixed(1),"%"]})]})})]}))]})),e.DisconnectedClients.map(e=>(0,i.jsxs)("div",{className:"tile border border-green-200",children:[(0,i.jsxs)("h1",{className:"text-lg text-center",children:[e.Name," ",(0,i.jsx)("span",{className:"text-red-600",children:"-disconnected-"})]}),(0,i.jsx)("div",{className:"flex justify-center",children:(0,i.jsx)("img",{src:"server-icon.png",alt:"server icon",className:"w-20 h-20"})})]}))]}),function(e){if(null==e.WaitingClients||0==e.WaitingClients.length)return(0,i.jsx)("div",{});let decline=e=>()=>{fetch("/api/waiting/"+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({allow:!1})})},accept=e=>()=>{fetch("/api/waiting/"+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({allow:!0})})};return(0,i.jsxs)("table",{className:"table-auto",children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Name"}),(0,i.jsx)("th",{children:"Serial"}),(0,i.jsx)("th",{})]})}),(0,i.jsx)("tbody",{children:e.WaitingClients.map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:e.Name}),(0,i.jsx)("td",{children:e.Serial}),(0,i.jsxs)("td",{children:[(0,i.jsx)("button",{onClick:accept(e.Serial),className:"bg-blue-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:"Accept"}),(0,i.jsx)("button",{onClick:decline(e.Serial),className:"bg-blue-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded",children:"Decline"})]})]}))})]})}(e)]})}},622:function(e,s,t){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i=t(2265),n=Symbol.for("react.element"),r=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),l=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function q(e,s,t){var i,a={},d=null,o=null;for(i in void 0!==t&&(d=""+t),void 0!==s.key&&(d=""+s.key),void 0!==s.ref&&(o=s.ref),s)r.call(s,i)&&!c.hasOwnProperty(i)&&(a[i]=s[i]);if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:d,ref:o,props:a,_owner:l.current}}s.jsx=q,s.jsxs=q},7437:function(e,s,t){"use strict";e.exports=t(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=7873)}),_N_E=e.O()}]);